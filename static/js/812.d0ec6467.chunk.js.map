{"version":3,"file":"static/js/812.d0ec6467.chunk.js","mappings":"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","sources":["api.js","webpack://react-homework-template/./src/components/Searchbox/Searchbox.module.css?d41a","components/Searchbox/Searchbox.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["const KEY = 'cdeffe013ca7b4d45618860232929251';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\n// Endpoints\nconst trendMovies = '/trending/movie/day'; // Популярні\nconst searchMovies = '/search/movie'; // Пошук фільму\nconst movieDetails = '/movie/'; // Деталі про фільм\n// const movieCredits = '/movie/{movie_id}/credits'; // Акторський склад фільму\n// const movieReviews = '/movie/{movie_id}/reviews'; // Відгуки про фільм\n\n//Трендові фільми\n\nexport const getTrendMovies = async () => {\n  const films = await fetch(`${BASE_URL}${trendMovies}?api_key=${KEY}`)\n    .then(resp => resp.json())\n    .then(data => data.results);\n\n  //   console.log(films);\n  return films;\n};\n\n// Пошук фільмів за ключовим словом\n\nexport const getMovies = async query => {\n  const films = await fetch(\n    `${BASE_URL}${searchMovies}?api_key=${KEY}&query=${query}`\n  )\n    .then(resp => resp.json())\n    .then(data => data.results);\n\n  return films;\n};\n\n// Запит повної інформації про фільм\n\nexport const getMovieDetails = async id => {\n  const filmDetails = await fetch(\n    `${BASE_URL}${movieDetails}${id}?api_key=${KEY}`\n  )\n    .then(resp => resp.json())\n    .then(movie => {\n      const normalizedGenres = movie.genres.map(genre => genre.name);\n\n      const newMovie = { ...movie, genres: normalizedGenres };\n\n      return newMovie;\n    });\n\n  return filmDetails;\n};\n\nexport const getCredits = async id => {\n  const credits = await fetch(\n    `${BASE_URL}${movieDetails}${id}/credits?api_key=${KEY}`\n  )\n    .then(resp => resp.json())\n    .then(data => data.cast);\n\n  return credits;\n};\n\nexport const getReviews = async id => {\n  const reviews = await fetch(\n    `${BASE_URL}${movieDetails}${id}/reviews?api_key=${KEY}`\n  )\n    .then(resp => resp.json())\n    .then(data => data.results);\n\n  return reviews;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbox_form__pe3kF\",\"form_input\":\"Searchbox_form_input__J7RdJ\",\"form_button\":\"Searchbox_form_button__6z0GP\"};","import css from \"./Searchbox.module.css\"\nimport PropTypes from \"prop-types\"\n\nexport const Searchbox = ({ onFormSubmit }) => {\n    return (\n        <form className={css.form} onSubmit={onFormSubmit}>\n            <input type=\"text\" name=\"query\" className={css.form_input} />\n            <button type=\"submit\" className={css.form_button}>Search</button>\n        </form>\n    )\n}\n\nSearchbox.propTypes = {\n    onFormSubmit: PropTypes.func.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"moviesList_item\":\"MoviesList_moviesList_item__FhAt8\"};","import { useLocation, Link } from \"react-router-dom\"\nimport css from \"./MoviesList.module.css\"\nimport PropTypes from \"prop-types\"\n\nexport const MoviesList = ({ movies }) => {\n    const location = useLocation();\n\n    return (\n        <ul className={css.moviesList}>\n            {\n                movies.length > 0 && movies.map(({ id, title }) => (\n                    <li key={id} className={css.moviesList_item}>\n                        <Link to={`${id}`} state={{from: location}}>\n                            {title}\n                        </Link>\n                    </li>\n                    )\n                )\n            }\n        </ul>\n    )\n}\n\nMoviesList.propTypes = {\n    movies: PropTypes.arrayOf(PropTypes.object),\n}","import { useState, useEffect, Suspense } from \"react\"\nimport { useSearchParams, Outlet, useParams} from \"react-router-dom\";\nimport { getMovies } from \"api\";\nimport { Searchbox } from \"components/Searchbox/Searchbox\";\nimport { MoviesList } from \"../../components/MoviesList/MoviesList\";\n\nconst Movies = () => {\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const { movieId } = useParams();\n    const query = searchParams.get('query');\n\n    useEffect(() => {\n        if (!query) {\n            setMovies([]);\n            return;\n        }\n\n        getMovies(query).then(setMovies);\n\n    }, [query])\n\n    function onSubmit(e) {\n        e.preventDefault();\n        setSearchParams({ query: e.target.query.value })\n        e.target.query.value = \"\";\n    }\n\n    return (\n        \n        movieId\n            ?\n        <Suspense>\n            <Outlet />\n        </Suspense>\n            :\n        <>\n            <Searchbox onFormSubmit={onSubmit} />\n        \n            <MoviesList movies={movies}/>\n\n        </>\n    )\n};\n\nexport default Movies;\n"],"names":["KEY","BASE_URL","movieDetails","getTrendMovies","fetch","then","resp","json","data","results","films","getMovies","query","getMovieDetails","id","movie","normalizedGenres","genres","map","genre","name","filmDetails","getCredits","cast","credits","getReviews","reviews","Searchbox","onFormSubmit","className","css","onSubmit","type","MoviesList","movies","location","useLocation","length","title","to","state","from","useState","setMovies","useSearchParams","searchParams","setSearchParams","movieId","useParams","get","useEffect","Suspense","e","preventDefault","target","value"],"sourceRoot":""}