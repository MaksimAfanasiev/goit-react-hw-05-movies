"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[961],{687:function(n,t,e){e.d(t,{Jh:function(){return l},TP:function(){return p},XT:function(){return h},_r:function(){return v},z5:function(){return f}});var r=e(683),c=e(861),u=e(757),a=e.n(u),o="cdeffe013ca7b4d45618860232929251",s="https://api.themoviedb.org/3",i="/movie/",f=function(){var n=(0,c.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s).concat("/trending/movie/day","?api_key=").concat(o)).then((function(n){return n.json()})).then((function(n){return n.results}));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(){var n=(0,c.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s).concat("/search/movie","?api_key=").concat(o,"&query=").concat(t)).then((function(n){return n.json()})).then((function(n){return n.results}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=(0,c.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s).concat(i).concat(t,"?api_key=").concat(o)).then((function(n){return n.json()})).then((function(n){var t=n.genres.map((function(n){return n.name}));return(0,r.Z)((0,r.Z)({},n),{},{genres:t})}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,c.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s).concat(i).concat(t,"/credits?api_key=").concat(o)).then((function(n){return n.json()})).then((function(n){return n.cast}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),v=function(){var n=(0,c.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s).concat(i).concat(t,"/reviews?api_key=").concat(o)).then((function(n){return n.json()})).then((function(n){return n.results}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},961:function(n,t,e){e.r(t);var r=e(885),c=e(791),u=e(871),a=e(501),o=e(687),s=e(184);t.default=function(){var n,t,e=(0,u.UO)().movieId,i=(0,c.useState)({}),f=(0,r.Z)(i,2),h=f[0],p=f[1],l=(0,u.s0)(),v=null!==(n=null===(t=(0,u.TH)().state)||void 0===t?void 0:t.from)&&void 0!==n?n:"/movies";(0,c.useEffect)((function(){(0,o.TP)(e).then(p)}),[e]);var d=h.title,x=h.vote_average,j=h.overview,m=h.genres,w=h.poster_path,k=h.release_date,b=new Date(k).getFullYear(),y=w?"https://image.tmdb.org/t/p/w500"+w:"";return d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"button",onClick:function(){return l(v)},children:"Go back"}),(0,s.jsxs)("h1",{children:[d," (",b,")"]}),(0,s.jsxs)("p",{children:["User score: ",Math.round(10*x),"%"]}),(0,s.jsx)("h2",{children:"Overview"}),(0,s.jsx)("p",{children:j}),(0,s.jsx)("h2",{children:"Genres"}),(0,s.jsx)("p",{children:m.join(", ")}),(0,s.jsx)("img",{src:y,alt:"Poster"}),(0,s.jsx)("h3",{children:"Additional information"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"cast",children:"Cast"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"reviews",children:"Reviews"})})]}),(0,s.jsx)(c.Suspense,{children:(0,s.jsx)(u.j3,{})})]})}}}]);
//# sourceMappingURL=961.9a2eec27.chunk.js.map